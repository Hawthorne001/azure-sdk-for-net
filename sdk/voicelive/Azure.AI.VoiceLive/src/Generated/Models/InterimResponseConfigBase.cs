// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

// <auto-generated/>

#nullable disable

using System;
using System.Collections.Generic;

namespace Azure.AI.VoiceLive
{
    /// <summary>
    /// Base model for interim response configuration.
    /// Please note this is the abstract base class. The derived classes available for instantiation are: <see cref="StaticInterimResponseConfig"/> and <see cref="LlmInterimResponseConfig"/>.
    /// </summary>
    public abstract partial class InterimResponseConfigBase
    {
        /// <summary> Keeps track of any properties unknown to the library. </summary>
        private protected readonly IDictionary<string, BinaryData> _additionalBinaryDataProperties;

        /// <summary> Initializes a new instance of <see cref="InterimResponseConfigBase"/>. </summary>
        /// <param name="type"> The type of interim response configuration. </param>
        private protected InterimResponseConfigBase(InterimResponseConfigType @type)
        {
            Type = @type;
            Triggers = new ChangeTrackingList<InterimResponseTrigger>();
        }

        /// <summary> Initializes a new instance of <see cref="InterimResponseConfigBase"/>. </summary>
        /// <param name="type"> The type of interim response configuration. </param>
        /// <param name="triggers">
        /// List of triggers that can fire the interim response. Any trigger can activate it (OR logic).
        /// Supported: 'latency', 'tool'.
        /// </param>
        /// <param name="latencyThresholdMs"> Latency threshold in milliseconds before triggering interim response. Default is 2000ms. </param>
        /// <param name="additionalBinaryDataProperties"> Keeps track of any properties unknown to the library. </param>
        internal InterimResponseConfigBase(InterimResponseConfigType @type, IList<InterimResponseTrigger> triggers, int? latencyThresholdMs, IDictionary<string, BinaryData> additionalBinaryDataProperties)
        {
            Type = @type;
            Triggers = triggers;
            LatencyThresholdMs = latencyThresholdMs;
            _additionalBinaryDataProperties = additionalBinaryDataProperties;
        }

        /// <summary> The type of interim response configuration. </summary>
        internal InterimResponseConfigType Type { get; set; }

        /// <summary>
        /// List of triggers that can fire the interim response. Any trigger can activate it (OR logic).
        /// Supported: 'latency', 'tool'.
        /// </summary>
        public IList<InterimResponseTrigger> Triggers { get; }

        /// <summary> Latency threshold in milliseconds before triggering interim response. Default is 2000ms. </summary>
        public int? LatencyThresholdMs { get; set; }
    }
}
